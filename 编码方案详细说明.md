# MO-DHFSP编码方案详细说明

## 1. 双染色体编码结构

### 1.1 工件向量（第一条染色体）
```
[0.2, 0.4, 0.8, 1.1, 1.4, 1.8]
```
- 每个位置代表一个工件
- 数值大小表示工件的处理优先级
- 值域范围：实数值

### 1.2 工厂向量（第二条染色体）
```
[1, 3, 2, 1, 2, 3]
```
- 每个位置对应工件分配的工厂编号
- 直接表示工件被分配到的工厂
- 值域范围：整数值，从1到工厂数量

## 2. 解码过程说明

### 2.1 工厂分配解码
示例解码结果：
- 工厂1：工件1, 工件4
- 工厂2：工件3, 工件5
- 工厂3：工件2, 工件6

### 2.2 工序排序解码
基于工件向量的值进行排序，值越小优先级越高：
```
工件1(0.2) → 工件2(0.4) → 工件3(0.8) → 工件4(1.1) → 工件5(1.4) → 工件6(1.8)
```

## 3. 机器分配方案

### 3.1 机器选择向量（AM）
```
[4, 2, 1, 3, 2, 2, 1, 3, 1, 4]
```
- 表示每个工序在对应工厂中选择的机器编号
- 值域范围：整数值，从1到该工序可用机器数量

### 3.2 工序时间向量（AS）
```
[0.79, 0.23, 0.75, 0.54, 0.89, 0.67, 0.30, 0.16, 0.44, 0.53]
```
- 表示每个工序的标准化加工时间
- 值域范围：[0,1]的实数值

## 4. 编码优势

1. 直观性：
   - 工厂分配直接编码
   - 工序优先级清晰表示
   - 机器选择明确指定

2. 可行性：
   - 保证解的可行性
   - 便于进行交叉和变异操作
   - 容易进行约束处理

3. 效率性：
   - 解码过程简单
   - 计算开销小
   - 便于并行处理

## 5. 具体示例

以10个工件、2个工厂的情况为例：

### 5.1 初始编码
```
工件向量：[0.2, 0.4, 0.8, 1.1, 1.4, 1.8, 0.3, 0.6, 0.9, 1.2]
工厂向量：[1, 3, 2, 1, 2, 3, 1, 2, 3, 1]
```

### 5.2 解码后的分配方案
工厂1的加工序列：
```
J1(0.2) → J4(1.1) → J7(0.3) → J10(1.2)
```

工厂2的加工序列：
```
J3(0.8) → J5(1.4) → J8(0.6)
```

工厂3的加工序列：
```
J2(0.4) → J6(1.8) → J9(0.9)
```

### 5.3 机器分配方案
```
机器选择：AM[4,2,1,3,2,2,1,3,1,4]
加工时间：AS[0.79,0.23,0.75,0.54,0.89,0.67,0.30,0.16,0.44,0.53]
```

## 6. 注意事项

1. 编码限制：
   - 工厂编号必须有效
   - 机器编号必须在可用范围内
   - 时间值必须非负

2. 解码要求：
   - 需要考虑工序前后约束
   - 需要处理机器容量约束
   - 需要确保调度可行性

3. 优化建议：
   - 可以使用启发式规则初始化
   - 可以加入局部搜索改进
   - 可以结合问题特征设计特殊算子 